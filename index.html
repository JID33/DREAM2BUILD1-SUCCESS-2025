<!-- Site complet Dream2Build1 avec inscription, paiement, CEO, leaders -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dream2Build1 Full Access Site</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f1f1f1; }
    h1, h2 { text-align: center; color: #007BFF; }
    .container, .panel, .form-section, form {
      max-width: 900px; margin: auto; background: white; padding: 20px;
      border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input, select, textarea {
      width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 15px;
      border: 1px solid #ccc; border-radius: 4px;
      box-sizing: border-box;
    }
    button {
      background-color: #28a745; color: white; border: none; padding: 10px 20px;
      font-size: 16px; border-radius: 5px; cursor: pointer;
    }
    button:hover { background-color: #218838; }
    .hidden { display: none; }
    .logout-btn { text-align: center; margin-top: 20px; }
    .logout-btn button { background-color: #dc3545; }
    .role-choice, .translate-widget { text-align: center; margin-bottom: 20px; }
    .cash-infos, .paiement-etapes, .merci-message {
      display: none; background: #fff3cd;
      padding: 10px; border-left: 5px solid #ffc107; margin-bottom: 20px;
    }
    .rotation-box {
      background: #e9f7ef; padding: 15px; margin-top: 20px; border-left: 5px solid #28a745;
    }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 10px; border: 1px solid #ccc; text-align: center; }
    th { background-color: #007BFF; color: white; }
    .error-msg { color: red; font-weight: bold; }
    .success-msg { color: green; font-weight: bold; }
  </style>
</head>
<body>

<!-- Widget de traduction Google -->
<div class="translate-widget">
  <div id="google_translate_element"></div>
</div>
<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
}
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<!-- Section : Register as New Member -->
<div class="panel" id="registerMemberPanel">
  <h2>üìÑ Register as New Member</h2>
  <form id="registerForm">
    <label for="memberFullName">Full Name:</label>
    <input type="text" id="memberFullName" name="fullname" placeholder="Enter your full name" required>

    <label for="memberEmail">Email:</label>
    <input type="email" id="memberEmail" name="email" placeholder="Enter your email" required>

    <label for="paymentMethod">Choose Payment Method:</label>
    <select id="paymentMethod" name="paymentMethod" onchange="showPaymentInstructions(this.value)" required>
      <option value="">-- Select Payment Method --</option>
      <option value="cash">Cash</option>
      <option value="mastercard">Mastercard / Debit Card</option>
      <option value="paypal">PayPal</option>
      <option value="moncash">MonCash</option>
      <option value="natcash">NatCash</option>
    </select>

    <div class="paiement-etapes" id="paymentInstructions">
      <div id="cashInfo" class="hidden">
        <p><strong>Cash:</strong> A team leader will contact you to validate your payment.</p>
      </div>
      <div id="mastercardInfo" class="hidden">
        <label>Card Number (16 digits):</label>
        <input type="text" id="cardNumber" maxlength="16" pattern="\\d{16}" placeholder="1234 5678 9012 3456">
        <label>Expiration Date (MM/YY):</label>
        <input type="text" id="cardExpiry" maxlength="5" pattern="\\d{2}/\\d{2}" placeholder="MM/YY">
        <label>CVC:</label>
        <input type="text" id="cardCVC" maxlength="4" pattern="\\d{3,4}" placeholder="123">
        <label>Name on Card:</label>
        <input type="text" id="cardName" placeholder="Name as on card">
      </div>
      <div id="paypalInfo" class="hidden">
        <p><strong>PayPal:</strong> Use this PayPal email to pay: <strong>dream2build@gmail.com</strong></p>
      </div>
      <div id="moncashInfo" class="hidden">
        <p><strong>MonCash:</strong> Send payment to <strong>+509 43260012</strong> (Name: Emmanuel Jean Frantz JEAMBAS)</p>
      </div>
      <div id="natcashInfo" class="hidden">
        <p><strong>NatCash:</strong> Send payment to <strong>+509 43260012</strong> (Name: Emmanuel Jean Frantz JEAMBAS)</p>
      </div>
    </div>

    <button type="button" onclick="alert('Please wait for a team leader to validate your payment. The submit button is active only for leaders.')">Pay & Submit</button>
  </form>
</div>

<!-- Section : Team Leader Registration -->
<div class="form-section">
  <h2>üë• Team Leader Registration</h2>
  <label for="leaderName">Full Name:</label>
  <input type="text" id="leaderName" placeholder="Enter full name">

  <label for="leaderEmailReg">Email:</label>
  <input type="email" id="leaderEmailReg" placeholder="Enter email">

  <label for="leaderPass1">Create Password:</label>
  <input type="password" id="leaderPass1" placeholder="Create password">

  <label for="leaderPass2">Confirm Password:</label>
  <input type="password" id="leaderPass2" placeholder="Confirm password">

  <button onclick="registerLeader()">Register as Team Leader</button>
  <p id="leaderRegisterMsg"></p>
</div>

<!-- Section : Team Leader Login -->
<div class="form-section">
  <h2>üîê Team Leader Login</h2>
  <label for="loginLeaderEmail">Email:</label>
  <input type="email" id="loginLeaderEmail" placeholder="Enter email">

  <label for="loginLeaderPass">Password:</label>
  <input type="password" id="loginLeaderPass" placeholder="Enter password">

  <button onclick="loginLeader()">Login</button>
  <p id="loginMsg"></p>
</div>

<!-- Section : Team Leader Dashboard -->
<div id="leaderPanel" class="panel hidden">
  <h2>üßë‚Äçü§ù‚Äçüßë Team Leader Dashboard</h2>
  <p>Welcome, <span id="leaderNameDisplay"></span>!</p>
  <button class="logout-btn" onclick="logoutLeader()">Logout</button>
  <p>Here you can submit validated new members after their payment.</p>
  <!-- Add submission form or members list here -->
</div>

<!-- Section : CEO Dashboard -->
<div id="ceoPanel" class="panel hidden">
  <h2>üëë CEO Dashboard</h2>
  <p>Welcome, CEO!</p>
  <button onclick="calculRotation()">Show Today's Rotation</button>
  <button onclick="nextRotation()">‚û°Ô∏è Next Day</button>
  <div id="rotationResult" class="rotation-box hidden"></div>

  <h3>üìã 25-day History:</h3>
  <table id="historyTable">
    <thead>
      <tr>
        <th>Day</th>
        <th>Member</th>
        <th>Total ($)</th>
        <th>Reserve</th>
        <th>Withheld (10%)</th>
        <th>To Receive</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>Emmanuel Jean</td>
        <td>100.00</td>
        <td>33.33</td>
        <td>3.33</td>
        <td>66.67</td>
      </tr>
      <!-- Other historical rows here -->
    </tbody>
  </table>
</div>

<script>
  // Show payment instructions based on method selected
  function showPaymentInstructions(value) {
    const allDivs = ['cashInfo', 'mastercardInfo', 'paypalInfo', 'moncashInfo', 'natcashInfo'];
    allDivs.forEach(id => document.getElementById(id).classList.add('hidden'));
    if(value && allDivs.includes(value + 'Info')) {
      document.getElementById(value + 'Info').classList.remove('hidden');
      document.getElementById('paymentInstructions').style.display = 'block';
    } else {
      document.getElementById('paymentInstructions').style.display = 'none';
    }
  }

  // Team Leader Registration
  function registerLeader() {
    const name = document.getElementById('leaderName').value.trim();
    const email = document.getElementById('leaderEmailReg').value.trim();
    const pass1 = document.getElementById('leaderPass1').value;
    const pass2 = document.getElementById('leaderPass2').value;
    const msg = document.getElementById('leaderRegisterMsg');

    if(!name || !email || !pass1 || !pass2) {
      msg.textContent = '‚ùå Please fill all fields';
      msg.className = 'error-msg';
      return;
    }
    if(pass1 !== pass2) {
      msg.textContent = '‚ùå Passwords do not match';
      msg.className = 'error-msg';
      return;
    }

    // Save leader in localStorage (for demo purposes)
    localStorage.setItem(`leader_${email}`, JSON.stringify({ name, email, password: pass1 }));

    msg.textContent = '‚úÖ Registration successful. You can now login as a Leader.';
    msg.className = 'success-msg';

    // Clear inputs
    document.getElementById('leaderName').value = '';
    document.getElementById('leaderEmailReg').value = '';
    document.getElementById('leaderPass1').value = '';
    document.getElementById('leaderPass2').value = '';
  }

  // Team Leader Login
  function loginLeader() {
    const email = document.getElementById('loginLeaderEmail').value.trim();
    const pass = document.getElementById('loginLeaderPass').value;
    const msg = document.getElementById('loginMsg');
    const stored = localStorage.getItem(`leader_${email}`);

    if(!stored) {
      msg.textContent = '‚ùå No account found';
      msg.className = 'error-msg';
      return;
    }

    const leader = JSON.parse(stored);

    if(leader.password !== pass) {
      msg.textContent = '‚ùå Incorrect password';
      msg.className = 'error-msg';
      return;
    }

    // Clear login form and show leader panel
    msg.textContent = '';
    document.getElementById('loginLeaderEmail').value = '';
    document.getElementById('loginLeaderPass').value = '';
    document.getElementById('leaderPanel').classList.remove('hidden');
    document.getElementById('leaderNameDisplay').textContent = leader.name;

    // Hide login form and registration form
    document.querySelector('div.form-section:nth-of-type(2)').style.display = 'none'; // Login form
    document.querySelector('div.form-section:nth-of-type(1)').style.display = 'none'; // Registration form
    document.getElementById('registerMemberPanel').classList.add('hidden');
    document.getElementById('ceoPanel').classList.add('hidden');
  }

  // Team Leader Logout
  function logoutLeader() {
    document.getElementById('leaderPanel').classList.add('hidden');
    document.getElementById('leaderNameDisplay').textContent = '';
    document.querySelector('div.form-section:nth-of-type(2)').style.display = 'block';
    document.querySelector('div.form-section:nth-of-type(1)').style.display = 'block';
    document.getElementById('registerMemberPanel').classList.remove('hidden');
  }

  // CEO Dashboard (simulate showing)
  function showCEOPanel() {
    document.getElementById('ceoPanel').classList.remove('hidden');
    document.getElementById('registerMemberPanel').classList.add('hidden');
  }

  // Rotation calculation placeholder
  function calculRotation() {
    const resultDiv = document.getElementById('rotationResult');
    resultDiv.textContent = 'Rotation calculation will be implemented here.';
    resultDiv.classList.remove('hidden');
  }

  function nextRotation() {
    alert('Next rotation day functionality coming soon!');
  }

  // On page load, you might want to show CEO panel if logged in as CEO
  // For demo, we just show register panel by default
</script>

</body>
</html>
