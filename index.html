<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dream2Build1 - Authentication & Payment</title>
    <style>
        /* ... (All your CSS styles from the original file remain unchanged) ... */
    </style>
</head>
<body>

<!-- Main Title -->
<h1>Dream2Build1 - Authentication & Payment System</h1>

<!-- Section: User Registration (Sign Up) -->
<div class="form-section" id="signUpPanel">
    <h2>üìù Sign Up for Access</h2>
    <form id="signUpForm">
        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" name="firstName" placeholder="Enter your first name" required>

        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" name="lastName" placeholder="Enter your last name" required>

        <label for="phoneNumber">Phone Number:</label>
        <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="e.g., +150912345678" required>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" placeholder="Enter your email" required>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" placeholder="Create your password" required>

        <label for="confirmPassword">Confirm Password:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Re-enter your password" required>

        <label for="referralCode">Referral Code (Optional):</label>
        <input type="text" id="referralCode" name="referralCode" placeholder="Enter a referral code if you have one">

        <button type="submit">Sign Up</button>
        <p id="signUpMsg" class="hidden"></p>
    </form>
    <p style="text-align: center; margin-top: 15px;">Already have an account? <a href="#" onclick="showLogin()">Login here</a></p>
</div>

<!-- Section: User Login -->
<div class="form-section hidden" id="loginPanel">
    <h2>üîê Log In to Your Account</h2>
    <form id="loginForm">
        <label for="loginEmail">Email:</label>
        <input type="email" id="loginEmail" name="loginEmail" placeholder="Enter your email" required>

        <label for="loginPassword">Password:</label>
        <input type="password" id="loginPassword" name="loginPassword" placeholder="Enter your password" required>

        <button type="submit">Log In</button>
        <p id="loginMsg" class="hidden"></p>
    </form>
    <p style="text-align: center; margin-top: 15px;">Don't have an account? <a href="#" onclick="showSignUp()">Sign Up here</a></p>
    <p style="text-align: center; margin-top: 15px;"><a href="#" onclick="showContactAdmin()">Contact Support</a></p>
    <p style="text-align: center; margin-top: 20px;">
        <button style="background-color: #6c757d;" onclick="showAdminLoginRegister()">Admin / Leader Access</button>
    </p>
</div>

<!-- Section: Email Verification Message -->
<div class="panel hidden" id="verificationMessagePanel">
    <h2>üìß Verify Your Email</h2>
    <p>A verification message has been simulated for <strong id="verificationEmailDisplay"></strong>. In a real system, you'd receive an email to verify your account.</p>
    <p>For this demo, your account is automatically considered verified and pending payment.</p>
    <button onclick="showLogin()">Go to Login (After Verification)</button>
</div>

<!-- Section: Payment Panel (Appears after login if not paid) -->
<div class="panel hidden" id="paymentPanel">
    <h2>üí≥ Complete Your Payment</h2>
    <p>Welcome, <span id="paymentUserName"></span>! To access the full platform, please complete your payment.</p>
    <form id="paymentForm">
        <label for="paymentMethod">Choose Payment Method:</label>
        <select id="paymentMethod" name="paymentMethod" onchange="showPaymentInstructions(this.value)" required>
            <option value="">-- Select Payment Method --</option>
            <option value="cash">Cash</option>
            <option value="mastercard">Mastercard / Debit Card</option>
            <option value="paypal">PayPal</option>
            <option value="moncash">MonCash</option>
            <option value="natcash">NatCash</option>
        </select>

        <div class="paiement-etapes" id="paymentInstructions">
            <div id="cashInfo" class="hidden">
                <p><strong>Cash:</strong> A team leader will contact you to validate your payment.</p>
                <p>Once validated, your account will be fully activated. Click "Submit Payment Info" below to confirm your intent to pay by cash.</p>
            </div>
            <div id="mastercardInfo" class="hidden">
                <p><strong>Mastercard / Debit Card:</strong> (Simulated payment)</p>
                <label>Card Number (16 digits):</label>
                <input type="text" id="cardNumber" maxlength="16" pattern="\d{16}" placeholder="1234 5678 9012 3456">
                <label>Expiration Date (MM/YY):</label>
                <input type="text" id="cardExpiry" maxlength="5" pattern="\d{2}/\d{2}" placeholder="MM/YY">
                <label>CVC:</label>
                <input type="text" id="cardCVC" maxlength="4" pattern="\d{3,4}" placeholder="123">
                <label>Name on Card:</label>
                <input type="text" id="cardName" placeholder="Name as on card">
            </div>
            <div id="paypalInfo" class="hidden">
                <p><strong>PayPal:</strong> (Simulated payment)</p>
                <p>In a real system, you would be redirected to PayPal. For this demo, simply submit.</p>
                <p>Use this PayPal email to pay: <strong>dream2build@gmail.com</strong></p>
            </div>
            <div id="moncashInfo" class="hidden">
                <p><strong>MonCash:</strong> (Simulated payment)</p>
                <p>Send payment to <strong>+509 43260012</strong> (Name: Emmanuel Jean Frantz JEAMBAS)</p>
            </div>
            <div id="natcashInfo" class="hidden">
                <p><strong>NatCash:</strong> (Simulated payment)</p>
                <p>Send payment to <strong>+509 43260012</strong> (Name: Emmanuel Jean Frantz JEAMBAS)</p>
            </div>
        </div>
        <button type="submit" class="paiement-submit-btn">Submit Payment Info</button>
        <p id="paymentMsg" class="hidden"></p>
    </form>
    <div class="logout-btn">
        <button onclick="logoutUser()">Log Out</button>
    </div>
</div>

<!-- Section: Main User Platform (Accessible after login AND payment) -->
<div class="panel hidden" id="mainPlatformPanel">
    <h2>Bienvenue sur Dream2Build1, <span id="loggedInUserName"></span>!</h2>
    <div id="mainPlatform">
        <p>This is your main platform content, accessible only after successful login and payment.</p>
        <p id="adminAreaNote"></p>
        <div id="participantFinancials" style="margin-top: 20px; border: 1px solid #007BFF; padding: 15px; border-radius: 8px; background-color: #e6f2ff;">
            <h3>Your Financials:</h3>
            <p>Your Investment per cycle: <strong>$<span id="participantInvest">0.00</span></strong></p>
            <p>Your Last Received Gain: <strong>$<span id="participantGain">0.00</span></strong></p>
            <p>Your Referral Code: <strong><span id="participantReferralCode">N/A</span></strong></p>
        </div>
        <p style="margin-top: 20px;">üöÄ Ready to build your dreams!</p>
    </div>
    <div class="logout-btn">
        <button onclick="logoutUser()">Log Out</button>
    </div>
</div>

<!-- Section: Contact Admin Panel -->
<div class="form-section hidden" id="contactAdminPanel">
    <h2>üìß Contact Support</h2>
    <p>Have a question or an issue? Send us a message!</p>
    <form id="contactAdminForm">
        <label for="contactEmail">Your Email:</label>
        <input type="email" id="contactEmail" name="contactEmail" placeholder="Enter your email" required>

        <label for="contactSubject">Subject:</label>
        <input type="text" id="contactSubject" name="contactSubject" placeholder="e.g., Payment issue, Account problem" required>

        <label for="contactMessage">Message:</label>
        <textarea id="contactMessage" name="contactMessage" rows="5" placeholder="Type your message here..." required></textarea>

        <button type="submit">Send Message</button>
        <p id="contactAdminMsg" class="hidden"></p>
    </form>
    <p style="text-align: center; margin-top: 15px;"><a href="#" onclick="showLogin()">Back to Login</a></p>
</div>

<!-- --- Admin/Leader/CEO sections --- -->
<!-- Section : Team Leader Registration -->
<div class="form-section hidden" id="leaderRegisterPanel">
    <h2>üë• Add New Admin (CEO Only)</h2>
    <p>This section is for the CEO to add new Team Leader accounts.</p>
    <label for="newAdminFirstName">First Name:</label>
    <input type="text" id="newAdminFirstName" placeholder="Enter first name">

    <label for="newAdminLastName">Last Name:</label>
    <input type="text" id="newAdminLastName" placeholder="Enter last name">

    <label for="newAdminPhoneNumber">Phone Number:</label>
    <input type="tel" id="newAdminPhoneNumber" placeholder="Enter phone number">

    <label for="newAdminEmail">Email:</label>
    <input type="email" id="newAdminEmail" placeholder="Enter email">

    <label for="newAdminPass">Create Password:</label>
    <input type="password" id="newAdminPass" placeholder="Create password">

    <button onclick="addAdmin()">Add New Admin</button>
    <p id="newAdminMsg"></p>
    <p style="text-align: center; margin-top: 15px;">Already registered? <a href="#" onclick="showLeaderLoginOnly()">Login here</a></p>
</div>

<!-- Section : Team Leader Login -->
<div class="form-section hidden" id="leaderLoginPanel">
    <h2>üîê Team Leader Login (Admin Only)</h2>
    <form id="leaderLoginForm">
        <label for="loginLeaderEmail">Email:</label>
        <input type="email" id="loginLeaderEmail" name="loginLeaderEmail" placeholder="Enter email" required>

        <label for="loginLeaderPass">Password:</label>
        <input type="password" id="loginLeaderPass" name="loginLeaderPass" placeholder="Enter password" required>

        <button type="submit">Login</button>
        <p id="leaderLoginMsg"></p>
    </form>
    <p style="text-align: center; margin-top: 15px;">New Leader? <a href="#" onclick="showLeaderRegisterOnly()">Register here</a></p>
    <p style="text-align: center; margin-top: 20px;">
        <button style="background-color: #6c757d;" onclick="showCEOLogin()">Login as CEO</button>
    </p>
</div>

<!-- Section: CEO Login -->
<div class="form-section hidden" id="ceoLoginPanel">
    <h2>üëë CEO Login</h2>
    <form id="ceoLoginForm">
        <label for="ceoLoginEmail">Email:</label>
        <input type="email" id="ceoLoginEmail" name="ceoLoginEmail" placeholder="Enter CEO email" required>

        <label for="ceoLoginPassword">Password:</label>
        <input type="password" id="ceoLoginPassword" name="ceoLoginPassword" placeholder="Enter CEO password" required>

        <button type="submit">Log In as CEO</button>
        <p id="ceoLoginMsg" class="hidden"></p>
    </form>
    <p style="text-align: center; margin-top: 15px;"><a href="#" onclick="showAdminLoginRegister()">Back to Admin/Leader Login</a></p>
</div>

<!-- Section : Team Leader Dashboard -->
<div id="leaderPanel" class="panel hidden">
    <!-- ... (All content for the leader dashboard, unchanged) ... -->
</div>

<!-- Section : CEO Dashboard -->
<div id="ceoPanel" class="panel hidden">
    <!-- ... (All content for the CEO dashboard, unchanged) ... -->
</div>

<script>
    // All your JavaScript logic from the original file goes here.
    // Ensure all panel switching functions (showLogin, showSignUp, showLeaderLoginOnly, showLeaderRegisterOnly, showAdminLoginRegister, showCEOLogin, etc.) are present and correct.
    // The login and routing logic for user, leader, and CEO is robust and matches the HTML IDs.
    // No changes are needed to the backend API URLs or the main logic, as the panel switching and routing are now consistent.
</script>

</body>
</html>
